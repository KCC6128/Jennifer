<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ä½œå“é›† â€” Jennifer Photography</title>
  <meta name="description" content="Jennifer æ”å½±ä½œå“é›†ï¼šäººåƒã€å©šç´—ã€æ—…æ‹ã€å•†æ¥­æ”å½±ï¼Œæ•æ‰çœŸå¯¦æƒ…æ„Ÿèˆ‡å…‰å½±ã€‚">
  <meta property="og:title" content="ä½œå“é›† â€” Jennifer Photography" />
  <meta property="og:description" content="äººåƒã€å©šç´—ã€æ—…æ‹ã€å•†æ¥­æ”å½±ï¼Œæ•æ‰çœŸå¯¦æƒ…æ„Ÿèˆ‡å…‰å½±ã€‚" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://example.com/works.html" />
  <meta property="og:image" content="https://images.unsplash.com/photo-1511715281071-14ad53f0b6b6?q=80&w=1200&auto=format&fit=crop" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='80'>ğŸ“·</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@600;800;900&display=swap" rel="stylesheet">
	<style>
	  /* ========== åŸºç¤è®Šæ•¸ & Reset ========== */
	  :root{
		--bg:#0f1115; --panel:#12151b; --muted:#9aa3b2; --text:#e6e8ec;
		--brand:#e6c499; --brand-2:#ffd3a3; --ring:rgba(230,196,153,.35);
		--border:#232735; --shadow:0 10px 30px rgba(0,0,0,.35);
	  }
	  *{ box-sizing:border-box }
	  html{ scroll-behavior:smooth }
	  body{
		margin:0;
		background:
		  radial-gradient(1200px 800px at 80% -10%, rgba(230,196,153,.09), transparent 60%),
		  radial-gradient(1000px 600px at -10% 30%, rgba(149,114,252,.08), transparent 60%),
		  var(--bg);
		color:var(--text);
		font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, 'PingFang TC','Microsoft JhengHei', sans-serif;
	  }
	  a{ color:inherit; text-decoration:none }
	  img{ max-width:100%; display:block }

	  /* ========== å°è¦½åˆ— ========== */
	  .nav{
		position:sticky; top:0; z-index:50;
		backdrop-filter:saturate(180%) blur(10px);
		background:linear-gradient(to bottom, rgba(15,17,21,.9), rgba(15,17,21,.55));
		border-bottom:1px solid var(--border);
		padding-top:max(14px, env(safe-area-inset-top)); /* iOS ç€æµ·å®‰å…¨å€ */
	  }
	  .nav-inner{
		max-width:1200px; margin:0 auto;
		display:flex; gap:20px; align-items:center; justify-content:space-between;
		padding:14px 20px;
	  }
	  .brand{ display:flex; align-items:center; gap:12px; font-weight:700; letter-spacing:.5px }
	  .brand .dot{
		width:10px; height:10px; border-radius:999px;
		background:linear-gradient(45deg,var(--brand),var(--brand-2));
		box-shadow:0 0 0 4px var(--ring);
	  }
	  .links{ display:flex; gap:26px; align-items:center }
	  .links a{ display:inline-flex; align-items:center; line-height:1; opacity:.85 }
	  .links a:hover, .links a.active{ opacity:1 }
	  .links a:not(.cta){ padding:10px 0 }
	  .cta{
		padding:10px 16px; border:1px solid var(--border);
		border-radius:999px; background:linear-gradient(180deg,#171a22,#12151b);
		box-shadow:var(--shadow);
	  }
	  .burger{ display:none }

	  /* ========== Heroï¼ˆæœ¬é ç½®ä¸­æ¨™é¡Œï¼‰ ========== */
	  .hero{
		max-width:1200px; margin:0 auto;
		padding:80px 20px 50px; text-align:center;
	  }
	  .hero h1{ font-family:"Playfair Display",serif; font-size:clamp(36px,5.5vw,60px); margin:0 }
	  .hero p{ color:#c9ced8; margin-top:12px; font-size:18px }

	  /* ========== å€å¡Šæ’ç‰ˆ ========== */
	  section{ max-width:1200px; margin:0 auto; padding:60px 20px }
	  .section-title{
		font-family:"Noto Serif TC","Playfair Display",serif; font-weight:900;
		font-size:clamp(24px,3.6vw,40px); line-height:1.15; letter-spacing:.02em;
		margin:0 0 22px; position:relative;
	  }
	  .section-title::after{
		content:""; position:absolute; left:0; bottom:-10px;
		width:80px; height:6px; border-radius:999px;
		background:linear-gradient(90deg,var(--brand),var(--brand-2));
		box-shadow:0 8px 22px rgba(230,196,153,.28);
	  }
	  .section-title.wedding::after{ width:120px }

	  /* ========== åˆ†é¡å°è¦½ï¼ˆç½®é ‚è† å›Šï¼‰ ========== */
	  .category-nav{
		position:sticky; top:60px; z-index:45;
		display:flex; gap:10px; align-items:center; justify-content:center;
		padding:10px 16px; margin:0 auto; max-width:1200px;
		background:linear-gradient(to bottom, rgba(15,17,21,.85), rgba(15,17,21,.55));
		backdrop-filter:saturate(160%) blur(6px);
		border-bottom:1px solid var(--border); border-radius:12px;
	  }
	  .category-nav .cat{
		display:inline-block; padding:10px 14px; border-radius:999px;
		border:1px solid var(--border); background:#151923; opacity:.9; font-weight:600;
		transition:transform .15s ease, opacity .15s ease, box-shadow .2s ease;
	  }
	  .category-nav .cat:hover{ opacity:1; transform:translateY(-1px) }
	  .category-nav .cat.active-cat{
		background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#1b1306;
		border-color:transparent; box-shadow:0 6px 18px rgba(230,196,153,.25);
	  }

	  /* ========== å´é‚Šåˆ†é¡ï¼ˆæ¡Œæ©Ÿå›ºå®šï¼‰ ========== */
	  .side-nav{
		position:fixed; top:110px; left:24px; width:168px;
		display:grid; gap:10px; padding:12px;
		border:1px solid var(--border); border-radius:14px;
		background:#0f1219; box-shadow:var(--shadow); z-index:60;
	  }
	  .side-nav .cat{
		display:block; padding:10px 12px; border-radius:999px;
		border:1px solid var(--border); background:#151923; opacity:.9; font-weight:600;
	  }
	  .side-nav .cat:hover{ opacity:1 }
	  .side-nav .cat.active-cat{
		background:linear-gradient(135deg,var(--brand),var(--brand-2)); color:#1b1306;
		border-color:transparent; box-shadow:0 6px 18px rgba(230,196,153,.25);
	  }

	  /* ========== åœ–ç‰‡æ ¼ï¼ˆå¡ç‰‡è³ªæ„Ÿï¼‰ ========== */
	  .grid{ display:grid; grid-template-columns:repeat(12,1fr); gap:14px }
	  .g3{ grid-column:span 4 } .g6{ grid-column:span 6 }

	  .card{
		position:relative; overflow:hidden;
		border:1px solid var(--border);
		background:linear-gradient(180deg,#131720,#11151c);
		border-radius:14px;
		/* æµ®èµ·æ„Ÿ + æŸ”å…‰æšˆ */
		box-shadow:0 2px 8px rgba(0,0,0,.25);
		transition:transform .25s ease, box-shadow .25s ease, border-color .25s ease;
	  }
	  .card:hover{
		transform:translateY(-6px) scale(1.03);
		border-color:rgba(230,196,153,.35);
		box-shadow:0 8px 20px rgba(0,0,0,.35);
	  }
	  /* è§’è½æŸ”å…‰ */
	  .card::after{
		content:""; position:absolute; inset:0; pointer-events:none; opacity:0; transition:opacity .3s ease;
		background:radial-gradient(60% 60% at 10% 0%, rgba(255,255,255,.07), transparent 70%);
	  }
	  .card:hover::after{ opacity:1 }

	  .card img{ width:100%; height:auto; transition:transform .4s ease }
	  .card:hover img{ transform:scale(1.05) }

	  /* å¯é¸ï¼šå³ä¸‹è§’ Meta/Chipï¼ˆä¿ç•™ç”¨ï¼‰ */
	  .card .meta{
		position:absolute; inset:auto 10px 10px 10px;
		display:flex; justify-content:space-between; align-items:center; gap:10px;
	  }
	  .chip{
		font-size:12px; padding:6px 10px; border-radius:999px;
		background:rgba(12,14,18,.55); backdrop-filter:blur(6px); border:1px solid var(--border);
	  }

	  /* ========== éŒ¨é»åç§»ï¼ˆé¿å…è¢«å›ºå®šå°è¦½/åˆ†é¡é®ä½ï¼‰ ========== */
	  section[id]{ scroll-margin-top:120px }

	  /* ========== Footer ========== */
	  footer{ border-top:1px solid var(--border); padding:24px 20px; color:#9aa3b2; text-align:center }

	  /* ========== è¡Œå‹•è£ç½® ========== */
	  @media (max-width:980px){
		.grid{ grid-template-columns:repeat(6,1fr) }
		.g3,.g6{ grid-column:span 6 }
		.links{ display:none }
		.burger{ display:block; cursor:pointer }
		.mobile{
		  display:none; position:absolute; top:56px; right:20px;
		  background:#0f1219; border:1px solid var(--border); border-radius:12px; padding:10px; box-shadow:var(--shadow);
		}
		.mobile a{ display:block; padding:10px 12px }
		.category-nav{ overflow-x:auto; justify-content:flex-start; gap:8px }
		.category-nav::-webkit-scrollbar{ display:none }
		.side-nav{ display:none } /* æ‰‹æ©Ÿéš±è—å´é‚Šåˆ†é¡ */
		/* è¡Œå‹•ç‰ˆå°è¦½è¼ƒé«˜æ™‚çš„éŒ¨é» */
		section[id]{ scroll-margin-top:110px }
	  }

	  /* ========== å¯ç”¨æ€§/è§¸æ§ & å‹•æ•ˆåå¥½ ========== */
	  button, .btn, .links .cta, .mobile a{ min-height:44px } /* è‰¯å¥½è§¸æ§å°ºå¯¸ */
	  @media (prefers-reduced-motion:reduce){
		*{ transition:none !important; scroll-behavior:auto !important }
	  }

	/* === é€²å ´æ·¡å…¥ï¼ˆæ¡Œæ©Ÿèˆ‡æ‰‹æ©Ÿéƒ½é©ç”¨ï¼‰ === */
	.card { opacity: 0; transform: translateY(12px); will-change: transform, opacity; }
	.card.in { opacity: 1; transform: translateY(0); }

	/* === è¡Œå‹•è£ç½®å„ªåŒ–ï¼šæ²’æœ‰ hover çš„ç’°å¢ƒ === */
	@media (hover: none) {
	  /* åŸºç¤ï¼šç¶­æŒç¨å¾®æµ®èµ·ã€å½±å­æ˜é¡¯ä¸€é» */
	  .card {
		box-shadow: 0 6px 16px rgba(0,0,0,.32);
		transform: none;            /* ä¸è¦é è¨­ç¸®æ”¾ï¼Œé¿å…çœ©æšˆ */
	  }
	  /* æŒ‰ä¸‹å»çš„è§¸æ„Ÿå›é¥‹ */
	  .card:active {
		transform: scale(.985);
	  }
	  /* è®“æ¨™é¡Œå¯ã€Œé»ä¸€ä¸‹æ‰å‡ºç¾ã€ï¼šé è¨­åŠé€æ˜åœ¨åº•éƒ¨ */
	  .card .meta {
		position: absolute; inset: auto 0 0 0;
		display: flex; align-items: flex-end; justify-content: space-between;
		padding: 12px;
		background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,0));
		opacity: .0; transition: opacity .25s ease;
		color: #fff; font-weight: 600; font-size: 16px;
		pointer-events: none;       /* ä¸æ“‹é»æ“Šï¼ˆç”±æ•´å¼µå¡ç‰‡æ¥ï¼‰ */
	  }
	  /* é»ä¸€ä¸‹å¡ç‰‡ï¼Œåˆ‡æ› .reveal å¾Œé¡¯ç¤ºæ–‡å­— */
	  .card.reveal .meta { opacity: 1; }
	  /* é»ä¸€ä¸‹æ™‚ç…§ç‰‡å¾®æ”¾å¤§ï¼Œæ›´æœ‰å±¤æ¬¡ */
	  .card.reveal img { transform: scale(1.03); }
	}

	/* å‹•æ•ˆåå¥½ï¼šä½¿ç”¨è€…ä¸å–œæ­¡å‹•ç•«æ™‚è‡ªå‹•é™å™ª */
	@media (prefers-reduced-motion: reduce) {
	  * { transition: none !important; scroll-behavior: auto !important; }
	  .card { opacity: 1 !important; transform: none !important; }
	}

	</style>

</head>
<body>

<header class="nav">
  <div class="nav-inner">
    <!-- å·¦å´å“ç‰Œ -->
    <a href="index.html#top" class="brand">
      <span class="dot"></span> Jennifer<span style="opacity:.55">/ photography</span>
    </a>

    <!-- æ‰‹æ©Ÿç‰ˆæ¼¢å ¡é¸å–®æŒ‰éˆ•ï¼šæ”¾åœ¨å“ç‰Œå¾Œã€æ¡Œæ©Ÿé¸å–®å‰ -->
    <button id="burger" class="burger" aria-label="é–‹å•Ÿé¸å–®" aria-expanded="false">â˜°</button>

    <!-- æ¡Œæ©Ÿç‰ˆé¸å–® -->
    <nav class="links">
      <a href="index.html#top">é¦–é </a>
      <a href="works.html">ä½œå“</a>
      <a href="services.html">æ‹æ”æ–¹æ¡ˆ</a>
      <a href="rental.html">æœè£ç§Ÿå€Ÿ</a>
      <a href="https://lin.ee/X8jPiQU" class="cta">é ç´„</a>
    </nav>

    <!-- æ‰‹æ©Ÿç‰ˆä¸‹æ‹‰é¸å–®å®¹å™¨ -->
    <div class="mobile" id="mobile">
      <a href="index.html#top">é¦–é </a>
      <a href="works.html">ä½œå“</a>
      <a href="services.html">æ‹æ”æ–¹æ¡ˆ</a>
      <a href="rental.html">æœè£ç§Ÿå€Ÿ</a>
      <a href="https://lin.ee/X8jPiQU">é ç´„</a>
    </div>
  </div>
</header>
  
<aside class="side-nav" aria-label="å¿«é€Ÿåˆ†é¡å°è¦½">
  <a class="cat" href="#japan">æ—¥ç³»å¯«çœŸ</a>
  <a class="cat" href="#couple">æƒ…ä¾¶å¯«çœŸ</a>
  <a class="cat" href="#birthday">ç”Ÿæ—¥å¯«çœŸ</a>
  <a class="cat" href="#Studio_shot">æ£šæ‹å¯«çœŸ</a>
  <a class="cat" href="#light_wedding_dress">è¼•å©šç´—å¯«çœŸ</a>
</aside>


<section class="hero">
  <h1>å¯«çœŸä½œå“é›†</h1>
	<nav class="category-nav" aria-label="ä½œå“åˆ†é¡">
	  <a class="cat" href="#japan">æ—¥ç³»å¯«çœŸ</a>
	  <a class="cat" href="#couple">æƒ…ä¾¶å¯«çœŸ</a>
	  <a class="cat" href="#birthday">ç”Ÿæ—¥å¯«çœŸ</a>
	  <a class="cat" href="#Studio_shot">æ£šæ‹å¯«çœŸ</a>
	  <a class="cat" href="#light_wedding_dress">è¼•å©šç´—å¯«çœŸ</a>
	</nav>
</section>

<!-- ä½œå“åˆ†é¡ï¼ˆç¤ºæ„ï¼Œè«‹æ›æˆä½ çš„ä½œå“ï¼‰ -->
<section id="japan">
  <h2 class="section-title">æ—¥ç³»å¯«çœŸ</h2>
  <div class="grid">
    <figure class="card g3"><img src="img/works/æ—¥ç³»å¯«çœŸ/è²“å’ªæµ´è¡£.jpg" alt="è²“å’ªæµ´è¡£"><figcaption class="meta"></figcaption></figure>
    <figure class="card g3"><img src="img/works/æ—¥ç³»å¯«çœŸ/å±…å®¶å¦èŠ¸.jpg" alt="å±…å®¶å¦èŠ¸"><figcaption class="meta"></figcaption></figure>
	<figure class="card g3"><img src="img/works/æ—¥ç³»å¯«çœŸ/å‡¡äºæŠ“è´è¶.jpg" alt="å‡¡äºæŠ“è´è¶"><figcaption class="meta"></figcaption></figure>
  </div>
</section>

<section id="couple">
  <h2 class="section-title">æƒ…ä¾¶å¯«çœŸ</h2>
  <div class="grid">
    <figure class="card g3"><img src="img/works/æƒ…ä¾¶å¯«çœŸ/CUæƒ…ä¾¶.jpg" alt="CUæƒ…ä¾¶"><figcaption class="meta"></figcaption></figure>
    <figure class="card g3"><img src="img/works/æƒ…ä¾¶å¯«çœŸ/æ«»èŠ±æƒ…ä¾¶.jpg" alt="æ«»èŠ±æƒ…ä¾¶"><figcaption class="meta"></figcaption></figure>
	<figure class="card g3"><img src="img/works/æƒ…ä¾¶å¯«çœŸ/Ireneæƒ…ä¾¶.jpg" alt="Ireneæƒ…ä¾¶"><figcaption class="meta"></figcaption></figure>
  </div>
</section>

<section id="birthday">
  <h2 class="section-title">ç”Ÿæ—¥å¯«çœŸ</h2>
  <div class="grid">
    <figure class="card g3"><img src="img/works/ç”Ÿæ—¥å¯«çœŸ/å¦èŠ¸ç”Ÿæ—¥.jpg" alt="å¦èŠ¸ç”Ÿæ—¥"><figcaption class="meta"></figcaption></figure>
	<figure class="card g3"><img src="img/works/ç”Ÿæ—¥å¯«çœŸ/æˆæˆç”Ÿæ—¥.jpg" alt="æˆæˆç”Ÿæ—¥"><figcaption class="meta"></figcaption></figure>
	<figure class="card g3"><img src="img/works/ç”Ÿæ—¥å¯«çœŸ/Ireneç”Ÿæ—¥.jpg" alt="Ireneç”Ÿæ—¥"><figcaption class="meta"></figcaption></figure>
  </div>
</section>

<section id="Studio_shot">
  <h2 class="section-title">æ£šæ‹å¯«çœŸ</h2>
  <div class="grid">
    <figure class="card g3"><img src="img/works/æ£šæ‹å¯«çœŸ/å¯å¯è‰è“.jpg" alt="å¯å¯è‰è“"><figcaption class="meta"></figcaption></figure>
	<figure class="card g3"><img src="img/works/æ£šæ‹å¯«çœŸ/è‰¾ç‘æ–¯æ³¡æ³¡.jpg" alt="è‰¾ç‘æ–¯æ³¡æ³¡"><figcaption class="meta"></figcaption></figure>
	<!--<figure class="card g3"><img src="img/works/æ£šæ‹å¯«çœŸ/Ireneç”Ÿæ—¥.jpg" alt=""><figcaption class="meta"></figcaption></figure>-->
  </div>
</section>

<section id="light_wedding_dress" >
  <h2 class="section-title wedding">è¼•å©šç´—å¯«çœŸ</h2>
  <div class="grid">
    <figure class="card g3"><img src="img/works/è¼•å©šç´—å¯«çœŸ/é»é»å©šç´—.jpg" alt="é»é»å©šç´—"><figcaption class="meta"></figcaption></figure>
	<figure class="card g3"><img src="img/works/è¼•å©šç´—å¯«çœŸ/å¦èŠ¸å©šç´—.jpg" alt="å¦èŠ¸å©šç´—"><figcaption class="meta"></figcaption></figure>
	<!--<figure class="card g3"><img src="img/works/è¼•å©šç´—å¯«çœŸ/Ireneç”Ÿæ—¥.jpg" alt=""><figcaption class="meta"></figcaption></figure>-->
  </div>
</section>

<footer>Â© <span id="y"></span> Jennifer â€¢ All rights reserved.</footer>

<script>
(() => {
  // ========= å°å·¥å…· =========
  const $  = (sel, root=document) => root.querySelector(sel);
  const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

  // ========= å¹´ä»½ =========
  const yearEl = $('#y');
  if (yearEl) yearEl.textContent = new Date().getFullYear();

  // ========= æ‰‹æ©Ÿé¸å–® =========
  const burger = $('#burger');
  const mobile = $('#mobile');

  if (burger && mobile) {
    const toggleMobile = () => {
      const open = mobile.style.display === 'block';
      mobile.style.display = open ? 'none' : 'block';
      burger.setAttribute('aria-expanded', String(!open));
    };
    burger.addEventListener('click', toggleMobile);
    $$('#mobile a').forEach(a => a.addEventListener('click', () => { mobile.style.display = 'none'; }));
  }

  // ========= å°è¦½é€£çµè‡ªå‹•é«˜äº®ï¼ˆä¾ç•¶å‰é ï¼‰=========
  (function autoActive(){
    const current = (window.location.pathname.split('/').pop() || 'index.html').toLowerCase();
    $$('.links a, .mobile a').forEach(a => {
      const href = a.getAttribute('href'); if (!href) return;
      try {
        const url  = new URL(href, window.location.origin);
        if (url.hash) return; // å¿½ç•¥ #anchor
        const page = (url.pathname.split('/').pop() || 'index.html').toLowerCase();
        if (page === current) a.classList.add('active');
      } catch(_) {}
    });
  })();

  // ========= åˆ†é¡è† å›Šï¼šé»æ“Š / æ²å‹• è‡ªå‹•é«˜äº® =========
  const catLinks = $$('.category-nav .cat, .side-nav .cat');
  const sections = $$('section[id]');
  if (catLinks.length && sections.length) {
    const OFFSET  = 140;   // å°è¦½ + åˆ†é¡åˆ—é«˜åº¦ï¼ˆå¯å¾®èª¿ï¼‰
    let lock      = false; // é»æ“Šå¾ŒçŸ­æš«é–å®šï¼Œé¿å…è¢«æ²å‹•è¦†è“‹
    const LOCK_MS = 700;

    const setActiveById = (id) => {
      catLinks.forEach(a => a.classList.toggle('active-cat', a.getAttribute('href') === '#' + id));
    };

    // é»æ“Šï¼šå…ˆé«˜äº®ä¸¦ä¸Šé–ï¼ˆé…åˆ smooth scrollï¼‰
    catLinks.forEach(a => {
      a.addEventListener('click', () => {
        const id = a.getAttribute('href')?.slice(1);
        if (!id) return;
        setActiveById(id);
        lock = true; setTimeout(() => lock = false, LOCK_MS);
      });
    });

    // æ²å‹•ï¼šä¾ã€Œè¦–çª—é ‚ + åç§»é‡ã€åˆ¤æ–·ç›®å‰å€å¡Š
    const updateActiveByScroll = () => {
      if (lock) return;

      // åˆ°é å°¾ï¼šäº®æœ€å¾Œä¸€å€‹
      const nearBottom = window.innerHeight + window.scrollY >= document.documentElement.scrollHeight - 8;
      if (nearBottom) { setActiveById(sections.at(-1).id); return; }

      const y = window.scrollY + OFFSET + 1;
      let current = sections[0]?.id;
      for (const sec of sections) {
        const top = sec.offsetTop, bottom = top + sec.offsetHeight;
        if (y >= top && y < bottom) { current = sec.id; break; }
      }
      if (current) setActiveById(current);
    };

    window.addEventListener('scroll', updateActiveByScroll, { passive:true });
    window.addEventListener('load', () => {
      if (location.hash) setActiveById(location.hash.slice(1));
      updateActiveByScroll();
    });
  }

  // ========= ä½œå“å¡ç‰‡ï¼šé€²å ´æ·¡å…¥ï¼ˆæ¡Œæ©Ÿ/æ‰‹æ©Ÿï¼‰ =========
  const cards = $$('.card');
  if (cards.length && 'IntersectionObserver' in window) {
    const io = new IntersectionObserver((entries, obs) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('in'); // å°æ‡‰ CSSï¼š.card.in { opacity:1; transform:translateY(0); }
          obs.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });
    cards.forEach(c => io.observe(c));
  }

  // ========= æ‰‹æ©Ÿï¼šé»ä¸€ä¸‹å¡ç‰‡é¡¯ç¤ºæ¨™é¡Œï¼ˆç„¡ hover è£ç½®ï¼‰ =========
  const isTouch = window.matchMedia('(hover: none)').matches;
  if (isTouch && cards.length) {
    const closeAll = () => cards.forEach(c => c.classList.remove('reveal'));

    cards.forEach(card => {
      card.addEventListener('click', () => {
        // åˆ‡æ›æœ¬å¡ç‰‡ï¼Œä¸¦é—œé–‰å…¶ä»–
        const willOpen = !card.classList.contains('reveal');
        closeAll();
        if (willOpen) card.classList.add('reveal');
      }, { passive:true });
    });

    // é»ç©ºç™½è™•é—œé–‰
    document.addEventListener('click', (e) => {
      if (!e.target.closest('.card')) closeAll();
    }, { passive:true });

    // Esc é—œé–‰ï¼ˆæœ‰å¯¦é«”éµç›¤çš„å¹³æ¿ç­‰ï¼‰
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeAll();
    });
  }

  // ========= å‹•æ•ˆåå¥½ï¼šä½¿ç”¨è€…ä¸å–œæ­¡å‹•ç•«æ™‚ï¼Œè‡ªå‹•é™å™ª =========
  if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    document.documentElement.classList.add('reduced-motion');
    // ä¹Ÿå¯åœ¨ CSS ä»¥ .reduced-motion * { transition:none } åšæ›´ç´°æ§åˆ¶
  }
})();
</script>

</body>
</html>
